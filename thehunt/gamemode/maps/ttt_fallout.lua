include( "basewaves.lua" )
CombineFirstWave = 7
CombineSecondWave = 15
CombineThirdWave = 15
CombineFourthWave = 15
CombineFifthWave = 20
CombineInfiniteWave = 20
DARKNESS = 3
prevent_spotlight_lag = true
MAP_PROPS = {'models/props_wasteland/controlroom_desk001b.mdl'}

HELIPATHS = {Vector(-582.466125, -874.456482, 635.353638),Vector(-395.708496, -1561.000366, 611.784973),Vector(-1607.733276, -1092.752441, 660.214661),Vector(-1583.447388, 441.801300, 623.864990),Vector(765.051575, 319.746033, 656.989380),Vector(565.902710, 1318.342896, 569.026184),Vector(-928.647156, 1365.053223, 640.346252),Vector(755.997742, -765.848267, 609.021729),}

zonescovered ={
Vector(-268.598877, -852.607239, 64.031250),
Vector(785.468140, 1082.210327, 64.031250),
Vector(-1525.935913, 419.007050 ,64.031250),
Vector(-685.128784, 462.698761, 64.031250),
Vector(-1121.879150, -896.488281, 64.031250),
Vector(-1656.822144, -425.087280, 64.031250),
Vector(-901.148926, 1378.361206, 64.031250),
}

SPECIALITEMPLACES = {}

ITEMPLACES ={
Vector(-768.822937, -1100.280884, -153.996948),
Vector(-806.619263, -1214.258545, 95.731735),
Vector(-1281.053467, -129.556610, 107.298103),
Vector(-1966.575317, -225.405731, 101.822296),
Vector(-366.034332, 352.710266, 40.336742), 
Vector(-626.123596, 806.132446, 44.214462), 
Vector(-119.087250, 1411.166260, 43.863712), 
Vector(-1787.964600, -962.256653, 33.201900),

Vector(-2123.9194335938, 1539.7427978516, 5.4575004577637),
Vector(-2126.9702148438, 1539.0423583984, 31.379596710205),
Vector(-2132.8688964844, 1538.1044921875, 57.112098693848),
Vector(-1949.2830810547, 1580.7667236328, 0.03125),
Vector(-1682.6833496094, 1113.1235351563, 33.647720336914),
Vector(-1401.9495849609, 1376.3316650391, 64.664489746094),
Vector(-1247.7346191406, 1246.8563232422, 48.063549041748),
Vector(-433.50622558594, 1419.0728759766, 0.03125),
Vector(-439.59136962891, 1643.408203125, 8.03125),
Vector(-40.77758026123, 1114.4886474609, 0.03125),
Vector(-490.70956420898, 1112.8012695313, 0.031253814697266),
Vector(-490.13388061523, 998.01519775391, 0.03125),
Vector(-599.20697021484, 1383.7517089844, 63.535861968994),
Vector(879.37774658203, 1426.2937011719, 39.242755889893),
Vector(1487.6146240234, 1106.50390625, 0.03125),
Vector(1275.7399902344, 788.64617919922, 40.172538757324),
Vector(1366.1315917969, 759.73547363281, 40.031837463379),
Vector(-492.61492919922, 868.59936523438, 0.03125),
Vector(-692.19287109375, 841.56719970703, 40.069957733154),
Vector(-610.11541748047, 870.55920410156, 65.04354095459),
Vector(-1082.1683349609, 282.18194580078, 9.9844512939453),
Vector(609.10052490234, 165.66716003418, 48.075492858887),
Vector(662.76342773438, -149.05065917969, 9.9844436645508),
Vector(1118.7158203125, -182.56439208984, 33.651931762695),
Vector(1115.4892578125, -272.39022827148, 40.07266998291),
Vector(1371.8370361328, -418.92547607422, 37.259799957275),
Vector(1495.9329833984, -341.75732421875, 0.03125),
Vector(462.70123291016, 82.414131164551, 0.03125),
Vector(-109.33728790283, 79.5498046875, 0.03125),
Vector(-195.24395751953, -441.81216430664, 31.379600524902),
Vector(586.25732421875, -438.16494750977, 40.077087402344),
Vector(380.95745849609, -322.02005004883, 289.85400390625),
Vector(80.239715576172, -460.81842041016, 296.0696105957),
Vector(-80.02059173584, -209.22689819336, 261.45724487305),
Vector(-80.845367431641, -214.29452514648, 287.37936401367),
Vector(-85.308982849121, -217.77732849121, 313.11184692383),
Vector(-78.916488647461, -164.22105407715, 287.37936401367),
Vector(-211.39210510254, 85.528015136719, 289.68270874023),
Vector(-163.00143432617, 90.182899475098, 289.65414428711),
Vector(-29.118446350098, 89.455039978027, 289.69100952148),
Vector(16.070449829102, 82.936508178711, 289.72521972656),
Vector(-296.2502746582, 155.01573181152, 72.664482116699),
Vector(-960.96319580078, 601.54455566406, 10.470344543457),
Vector(-1132.8254394531, 46.239566802979, 0.03125),
Vector(-1323.6911621094, -30.506355285645, 53.497093200684),
Vector(-1964.7446289063, -235.17359924316, 37.342071533203),
Vector(-1963.3734130859, -205.67240905762, 37.333438873291),
Vector(-2002.9357910156, -461.5119934082, 128.03125),
Vector(-2032.1821289063, -456.01031494141, 128.03125),
Vector(118.37670898438, 715.68353271484, 256.03125),
Vector(84.905578613281, 712.01751708984, 256.03125),
Vector(-552.03430175781, -61.626304626465, 256.03125),
Vector(-707.52911376953, 5.0210571289063, 256.03125),
Vector(-2033.2059326172, -1382.3068847656, 0.03125),
Vector(-1994.4447021484, -1387.8229980469, 0.03125),
Vector(-1798.9132080078, -1472.1851806641, 9.9844436645508),
Vector(-1819.3033447266, -1485.5765380859, 9.9844436645508),
Vector(-1440.2839355469, -1755.5960693359, 40.042514801025),
Vector(-1196.2222900391, -1180.0776367188, 40.041206359863),
Vector(-811.85040283203, -1216.4385986328, 19.481620788574),
Vector(-812.92712402344, -1236.5388183594, 19.487049102783),
Vector(-731.17272949219, -822.33331298828, -233.77342224121),
Vector(-697.60424804688, -817.60864257813, -235.79632568359),
Vector(-652.85925292969, -818.7080078125, -234.60186767578),
Vector(-394.44689941406, -1434.3538818359, 40.168952941895),
Vector(-1336.8604736328, -1234.6889648438, -210.63140869141),
Vector(-1868.0129394531, -976.20611572266, -210.57809448242)
}

combinespawnzones = {
Vector(-1955.583130, -712.272705, 72.031250),
Vector(-2005.441772, 631.624451, 80.501854),
Vector(826.720764, 424.087891, 64.031250),
Vector(1398.549316, -1115.531616, 92.553925),
Vector(283.400360, -1877.980835, 64.031250),
Vector(-1388.968750, -1886.020508, 64.031250),
}

function GM:PlayerInitialSpawn(ply)
timer.Simple(2, function() ply:PrintMessage(HUD_PRINTTALK, "[Альянс]: Всем автономным отрядам: Начать принудительную ассимиляцию сектора.") end )
timer.Simple(4, function() ply:PrintMessage(HUD_PRINTTALK, "[Альянс]: Произвести контролированное изменение численности. Выделить и идентифицировать объекты") end )
timer.Simple(12, function() ply:PrintMessage(HUD_PRINTTALK, "Подсказка: !taunt - крик, который привлекает комбайнов поблизости.") end )
timer.Simple(14, function() ply:PrintMessage(HUD_PRINTTALK, "Подсказка: !remain - показывает кол-во комбайнов на карте.") end )
ply:SendLua("CLDARKNESS="..DARKNESS.."" )
end

function MapSetup()
--SpawnItem("item_healthcharger", Vector(-456.275421, 479.784363, -414.434113), Angle(-90.000, 90.000, 45.000) )
for k, v in pairs(ents.FindByClass("info_player_deathmatch")) do
print(v:GetClass())
v:Remove()
end
for k, v in pairs(ents.FindByClass("info_player_start")) do
print(v:GetClass())
v:Remove()
end

for k, v in pairs(ents.FindByClass("info_player_counterterrorist")) do
print(v:GetClass())
v:Remove()
end

for k, v in pairs(ents.FindByClass("info_player_terrorist")) do
print(v:GetClass())
v:Remove()
end

SpawnItem('item_healthcharger', Vector(-1903.688110, -806.509766, -205.939590),Angle(0.000, 0.000, 0.000))
SpawnSuitCharger(Vector(-879.722107, 1016.863403, -201.755569),Angle(0.000, 0.000, 0.000))

SpawnItem("info_player_start", Vector(-596.434753, -1080.971680, -170.446259)+Vector(0,0,-45), Angle(20,144,0))
SpawnItem("info_player_start", Vector(-592.727966, -854.056519, -168.595154)+Vector(0,0,-45), Angle(10,127,0))
SpawnItem("info_player_start", Vector(-844.508057, -1008.122559, -165.020630)+Vector(0,0,-45), Angle(20,9,0))
SpawnItem("info_player_start", Vector(164.938263, -1443.621338, 320.031250)+Vector(0,0,-45), Angle(0,0,0))
SpawnItem("info_player_start", Vector(354.959442, -1425.662720, 320.031250)+Vector(0,0,-45), Angle(0,-180,0))
SpawnItem("info_player_start", Vector(95.127441, 29.479046, 320.031250)+Vector(0,0,-45), Angle(0,-90,0))
SpawnAmmoCrate(Vector(144.353455, -1199.482910, 272.358704),Angle(0.018, 0.075, 0.014),3)
SpawnAmmoCrate(Vector(-552.627380, -60.627796, 272.368500),Angle(0.016, 180.000, -0.010),3)

end